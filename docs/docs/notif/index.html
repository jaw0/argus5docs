<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.30.2" />
    <meta name="description" content="Argus - system &#43; network monitoring software">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Notifications :: Argus Monitoring</title>
    
    
    <link href="/css/nucleus.css?1546965031" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1546965031" rel="stylesheet">
    <link href="/css/hybrid.css?1546965031" rel="stylesheet">
    <link href="/css/featherlight.min.css?1546965031" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1546965031" rel="stylesheet">
    <link href="/css/auto-complete.css?1546965031" rel="stylesheet">
    <link href="/css/theme.css?1546965031" rel="stylesheet">
    <link href="/css/hugo-theme.css?1546965031" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1546965031"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/docs/notif/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <span style="color:#fff;font-size:75px;">Argus</span>

    </div>
    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/docs/" title="Docs" class="dd-item 
        parent
        
        
        ">
      <a href="/docs/">
          Docs
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/install/" title="Install" class="dd-item ">
        <a href="/docs/install/">
        Install
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/config/" title="Configuring" class="dd-item ">
        <a href="/docs/config/">
        Configuring
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/argusconf/" title="Argus Conf" class="dd-item ">
        <a href="/docs/argusconf/">
        Argus Conf
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/configfile/" title="Config File" class="dd-item ">
        <a href="/docs/configfile/">
        Config File
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/running/" title="Running Argus" class="dd-item ">
        <a href="/docs/running/">
        Running Argus
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/users/" title="Users" class="dd-item ">
        <a href="/docs/users/">
        Users
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/services/" title="Services" class="dd-item ">
        <a href="/docs/services/">
        Services
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/hwab/" title="Aberrant Behavior Detection" class="dd-item ">
        <a href="/docs/hwab/">
        Aberrant Behavior Detection
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/acl/" title="Access Control" class="dd-item ">
        <a href="/docs/acl/">
        Access Control
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/advanced/" title="Advanced Features" class="dd-item ">
        <a href="/docs/advanced/">
        Advanced Features
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/testport/" title="Argus Test Port" class="dd-item ">
        <a href="/docs/testport/">
        Argus Test Port
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/database/" title="Database Testing" class="dd-item ">
        <a href="/docs/database/">
        Database Testing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/darp/" title="Distributed Monitoring" class="dd-item ">
        <a href="/docs/darp/">
        Distributed Monitoring
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/xtservices/" title="Extended Testing" class="dd-item ">
        <a href="/docs/xtservices/">
        Extended Testing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/notif/" title="Notifications" class="dd-item active">
        <a href="/docs/notif/">
        Notifications
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/override/" title="Overrides" class="dd-item ">
        <a href="/docs/override/">
        Overrides
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/agent/" title="Remote Agent" class="dd-item ">
        <a href="/docs/agent/">
        Remote Agent
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/self/" title="Testing Argus" class="dd-item ">
        <a href="/docs/self/">
        Testing Argus
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/dns/" title="Testing DNS" class="dd-item ">
        <a href="/docs/dns/">
        Testing DNS
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/tktsys/" title="Ticket System" class="dd-item ">
        <a href="/docs/tktsys/">
        Ticket System
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="/docs/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/webpretty/" title="Web Pages" class="dd-item ">
        <a href="/docs/webpretty/">
        Web Pages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/jaw0/argus5"><i class='fa fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>In God we trust, everything else we monitor.</p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable sticky-parent">
              
              <div class="sticky-spacer">
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" href="https://github.com/jaw0/argus5docs/docs/notif.md" target="blank">
                      <i class="fa fa-code-fork"></i>
                      Edit this page
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/docs/'>Docs</a> > Notifications
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#configuring">Configuring</a></li>
<li><a href="#escalating">Escalating</a></li>
<li><a href="#acknowledging">Acknowledging</a></li>
<li><a href="#adding-other-notification-methods">Adding Other Notification Methods</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Notifications</h1>
          

        




<p>Whenever something changes state, Argus can notify someone about it.</p>

<p>Argus realizes that in the real world, sometimes people forget, they go out of range of their paging service, their batteries die, etc. So, by default, when Argus wants to be sure someone knows about something it will require that the message be acknowledged and will resend and/or escalate until someone does.</p>

<h2 id="configuring">Configuring</h2>

<p>To specify where to send notifications:</p>

<pre>
notify:         mail:support@example.com  qpage:joe
</pre>

<p>you can specify more than one. Currently notifying by mail and qpage are supported.
See below to add other methods.</p>

<p>By default, Services generate notifications and Groups do not. This can be changed:</p>

<pre>        Group "Foo" {
                sendnotify:     yes
                Service Ping {
                        sendnotify:     no
                }
        }
</pre>

<p>You can change the message that gets sent:</p>

<pre>        Service UDP/SNMP {
                # cisco inlet temperature
                oid:            .1.3.6.1.4.1.9.9.13.1.3.1.3.1
                maxvalue:       27
                messagedn:      server room is too hot
                messageup:      server room has cooled back down
        }
</pre>

<p>If you only want one message sent, and never resent or escalated:</p>

<pre>        autoack:        yes
</pre>

<p>By default, notifications are resent every 5 minutes, to change this, specify a value in seconds:</p>

<pre>        renotify:       120
</pre>

<h2 id="escalating">Escalating</h2>

<p>After attempting to notify someone of a problem repeatedly, you may want to try notifying someone else:</p>

<pre>        escalate:    10 qpage:manager; 30 qpage:cio; 60 qpage:ceo
</pre>

<p>which means:</p>

<ul>
<li>after 10 minutes page the manager</li>
<li>after 30 minutes page the CIO</li>
<li>after 1 hour page the CEO</li>
</ul>

<h2 id="acknowledging">Acknowledging</h2>

<p>On the webpage, click &ldquo;Un-Acked Notifies&rdquo;. Ack them one-by-one by clicking &ldquo;Ack&rdquo;, or ack several by checking their checkboxes and clicking &ldquo;Ack Checked&rdquo;, or ack all of them by clicking &ldquo;Ack All&rdquo;.</p>

<p>The ability to ack is controlled by the &ldquo;acl_ntfyack&rdquo; access control list. The ability to &ldquo;Ack All&rdquo; is controlled by the &ldquo;acl_ntfyackall&rdquo; access control list.</p>

<p>In order to remain sane, the author <strong>highly recommends</strong> verifying that anyone who may be sent notifications is also permitted to acknowledge them.</p>

<h2 id="adding-other-notification-methods">Adding Other Notification Methods</h2>

<div class="notices warning" ><p>The syntax used for message variables changed in version 5.0
Prior versions used % sequences; while newer versions use go&rsquo;s template syntax.</p>
</div>


<p>Argus comes with mail and qpage built in, to add other methods, pick a name for the method
and add to the top of the monitoring config:</p>

<pre>        Method "annoy" {
                command:        winpopup {{.ADDR}}
                send:           {{.CONTENT}}
        }

        notify:         annoy:bob
</pre>

<p>This will cause notifications to be sent to &lsquo;bob&rsquo; using the &lsquo;winpopup&rsquo; program.
Various parameters can be used:</p>

<ul>
<li><strong>{{.ADDR}}</strong> - the recipient (&lsquo;bob&rsquo; in the example)</li>
<li><strong>{{.SENDER}</strong> - the from address (set with the &lsquo;mail_from&rsquo; parameter)</li>
<li><strong>{{.CONTENT}</strong> - the message</li>
<li><strong>{{.SUBJECT}}</strong> - the message subject</li>
<li><strong>{{.IDNO}}</strong> - the notification id number</li>
<li><strong>{{.OBJECT}}</strong> - the object name - full name</li>
<li><strong>{{.FRIENDLY}}</strong> - the object name in a friendly format</li>
<li><strong>{{.UNAME}}</strong> - the object name - short version</li>
<li><strong>{{.STATUS}}</strong> - the object state (up or down)</li>
<li><strong>{{.CREATED}}</strong> - the notification creation time</li>
<li><strong>{{.SEVERITY}}</strong> - the severity level (set with the &lsquo;severity&rsquo; parameter)</li>
<li><strong>{{.REASON}}</strong> - the reason the object went down</li>
<li><strong>{{.RESULT}}</strong> - the value returned by the test</li>
</ul>


<footer class=" footline" >
	
</footer>


        
        </div> 
      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/docs/xtservices/" title="Extended Testing"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/docs/override/" title="Overrides" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1546965031"></script>
    <script src="/js/perfect-scrollbar.min.js?1546965031"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1546965031"></script>
    <script src="/js/jquery.sticky-kit.min.js?1546965031"></script>
    <script src="/js/featherlight.min.js?1546965031"></script>
    <script src="/js/html5shiv-printshiv.min.js?1546965031"></script>
    <script src="/js/highlight.pack.js?1546965031"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1546965031"></script>
    <script src="/js/learn.js?1546965031"></script>
    <script src="/js/hugo-learn.js?1546965031"></script>

    <link href="/mermaid/mermaid.css?1546965031" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1546965031"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

